(* Content-type: application/vnd.wolfram.cdf.text *)

(*** Wolfram CDF File ***)
(* http://www.wolfram.com/cdf *)

(* CreatedBy='Wolfram 14.2' *)

(*************************************************************************)
(*                                                                       *)
(*                                                                       *)
(*  This file was created under the Wolfram Enterprise licensing terms.  *)
(*                                                                       *)
(*       For additional information concerning CDF licensing see:        *)
(*                                                                       *)
(*        www.wolfram.com/cdf/adopting-cdf/licensing-options.html        *)
(*                                                                       *)
(*                                                                       *)
(*                                                                       *)
(*************************************************************************)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[      1060,         20]
NotebookDataLength[      5403,        147]
NotebookOptionsPosition[      5570,        142]
NotebookOutlinePosition[      5981,        158]
CellTagsIndexPosition[      5938,        155]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"SetDirectory", "[", 
    RowBox[{"FileNameJoin", "[", 
     RowBox[{"{", 
      RowBox[{"$HomeDirectory", ",", " ", "\"\<Projects\>\""}], "}"}], "]"}], 
    "]"}], ";"}], " "}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Map", "[", "PacletDirectoryLoad", "]"}], " ", "@", " ", 
    RowBox[{"{", 
     RowBox[{"\"\<Objects\>\"", ",", " ", "\"\<CSockets\>\"", ",", 
      " ", "\"\<LTP\>\"", ",", " ", "\"\<SocketIOLink\>\"", ",", 
      " ", "\"\<WAEXLink\>\""}], "}"}]}], ";"}], " "}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"Get", "[", "\"\<KirillBelov`Objects`\>\"", "]"}], ";"}], " "}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"Get", "[", "\"\<KirillBelov`CSockets`\>\"", "]"}], ";"}], " "}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"Get", "[", "\"\<KirillBelov`LTP`\>\"", "]"}], ";"}], " "}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"Get", "[", "\"\<KirillBelov`SocketIOLink`\>\"", "]"}], ";"}], 
  " "}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"Get", "[", "\"\<KirillBelov`WAEXLink`\>\"", "]"}], ";"}], " "}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"ShowJavaConsole", "[", "]"}], ";"}], " "}]}], "Code",
 CellChangeTimes->{
  3.950327494671047*^9, {3.950597782359783*^9, 3.9505977907172985`*^9}},
 CellLabel->
  "In[104]:=",ExpressionUUID->"0e8bb6ba-19ed-af48-9848-caeeec7d66e8"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"loginResponse", " ", "=", " ", 
    RowBox[{"WAEXLogin", "[", 
     RowBox[{"\"\<kirillbelovtest@gmail.com\>\"", ",", 
      " ", "\"\<1234asdf\>\""}], "]"}]}], ";"}], " "}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"cookie", " ", "=", " ", 
    RowBox[{
     RowBox[{"<|", 
      RowBox[{"$response", "[", "\"\<Headers\>\"", "]"}], "|>"}], 
     "[", "\"\<set-cookie\>\"", "]"}]}], ";"}], " "}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"csrfToken", " ", "=", " ", 
    RowBox[{"loginResponse", "[", 
     RowBox[{"\"\<meta\>\"", ",", "\"\<csrfToken\>\""}], "]"}]}], ";"}], 
  " "}]}], "Code",
 CellChangeTimes->{{3.950151057705763*^9, 3.950151093249342*^9}, {
  3.95032682765576*^9, 3.950326840255863*^9}, {3.950326914736164*^9, 
  3.950326924463585*^9}},
 CellLabel->"In[9]:=",ExpressionUUID->"d754d66f-68c2-0748-9539-294b62ba1404"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"socketObj", " ", "=", " ", 
    RowBox[{"SocketIOConnect", "[", 
     RowBox[{"\"\<https://access.ccdb.waexservices.com\>\"", ",", " ", "\n", 
      "\t", 
      RowBox[{"\"\<HTTPHeaders\>\"", " ", "->", " ", 
       RowBox[{"<|", "\n", "\t\t", 
        RowBox[{
         RowBox[{"\"\<Cookie\>\"", " ", "->", " ", "cookie"}], ",", " ", "\n",
          "\t\t", 
         RowBox[{"\"\<csrf_token\>\"", " ", "->", " ", "csrfToken"}]}], "\n", 
        "\t", "|>"}]}]}], "\n", "]"}]}], ";"}], " "}]], "Code",
 CellChangeTimes->{{3.9501461630098057`*^9, 3.9501461655834637`*^9}, 
   3.950151034027073*^9, 3.9503269366408424`*^9, {3.9503292618276863`*^9, 
   3.950329265990078*^9}, {3.950331290205368*^9, 3.950331314874073*^9}, {
   3.9503313959358444`*^9, 3.9503314099214077`*^9}, {3.9503355151382484`*^9, 
   3.9503355151837044`*^9}, {3.9506301530637074`*^9, 3.9506301606750126`*^9}},
 CellLabel->"In[12]:=",ExpressionUUID->"76783fb0-dcdc-e945-bc40-cfab0446bfad"],

Cell[BoxData[
 RowBox[{
  RowBox[{"SocketIOListen", "[", 
   RowBox[{"socketObj", ",", " ", "\"\<AggregateOHLCV\>\""}], "]"}], 
  ";"}]], "Code",
 CellChangeTimes->{{3.9506294412989063`*^9, 3.950629451569666*^9}, 
   3.95063013514406*^9, 3.9506308307915382`*^9},
 CellLabel->"In[13]:=",ExpressionUUID->"b5967734-7d09-284c-8b6d-6e97f704c624"],

Cell[BoxData[
 RowBox[{
  RowBox[{"SocketIOEmit", "[", 
   RowBox[{
   "socketObj", ",", " ", "\"\<subscribe-to-emitter\>\"", ",", " ", "\n", 
    "\t", 
    RowBox[{"<|", 
     RowBox[{"\"\<emitterName\>\"", " ", "->", 
      " ", "\"\<AggregateOHLCVEmitter\>\""}], "|>"}]}], "\n", "]"}], 
  ";"}]], "Code",
 CellChangeTimes->{{3.9506294705438595`*^9, 3.950629487705633*^9}, {
   3.9506308361431828`*^9, 3.9506308413914185`*^9}, 3.95063135641029*^9},
 CellLabel->"In[14]:=",ExpressionUUID->"1719175d-856d-9940-a7f4-9079e7995a6a"]
},
WindowSize->{718.5, 735},
WindowMargins->{{Automatic, 105.75}, {Automatic, 27.75}},
FrontEndVersion->"14.2 for Microsoft Windows (64-bit) (December 26, 2024)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"ed69abe1-b5c3-9e4b-b937-efe95809e396"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[1460, 33, 1339, 38, 172, "Code",ExpressionUUID->"0e8bb6ba-19ed-af48-9848-caeeec7d66e8"],
Cell[2802, 73, 879, 23, 85, "Code",ExpressionUUID->"d754d66f-68c2-0748-9539-294b62ba1404"],
Cell[3684, 98, 1005, 19, 137, "Code",ExpressionUUID->"76783fb0-dcdc-e945-bc40-cfab0446bfad"],
Cell[4692, 119, 341, 7, 50, "Code",ExpressionUUID->"b5967734-7d09-284c-8b6d-6e97f704c624"],
Cell[5036, 128, 530, 12, 85, "Code",ExpressionUUID->"1719175d-856d-9940-a7f4-9079e7995a6a"]
}
]
*)

